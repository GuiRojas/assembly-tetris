; area de declaração de variaveis
.data
    randomnum  db  2 dup (?)
    header_format       db      "Numero aletorio : %s",0              
    buffer              db      256 dup(?) 
    

.data?
    prox        dw  ?    

.code

getrandom proc uses eax
  gerar:
    invoke  GetTickCount
    invoke  nseed, eax
    invoke  nrandom, 8 ;gera um numero random de 0 a 8
    ;geramos de 0 a 8 para que os numeros que nós queremos (1-7) se tornam equiprováveis
    cmp eax,0
    je gerar
    cmp eax,8
    je gerar
    ;//caso queiramos printar, precisamos de \/ no .data 
    ;//                           randomnum  db  2 dup (?)
    ;invoke  dwtoa, eax, offset randomnum ;double word to ascii
    ;invoke  StdOut, offset randomnum     ;printa em console o valor
    mov prox,ax
    ret;
getrandom

;exemplo
start:

    call getrandom
    xor eax,eax
    mov ax,prox
    invoke  dwtoa, eax, offset randomnum ;double word to ascii
    invoke  StdOut, offset randomnum      ;printa em console o valor

end start
